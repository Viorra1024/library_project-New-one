{% extends 'library/base.html' %}

{% block title %}All Users{% endblock %}

{% block content %}
<h1>All Registered Users</h1>

<h2>Students</h2>
<ul>
  {% for student in students %}
    <li>
      <strong>{{ student.name }} {{ student.surname }}</strong> ({{ student.group }}, ID: {{ student.id }})<br>
      Borrowed Books:
      <ul>
        {% for book in student.borrowed_books.all %}
          <li>{{ book.title }}</li>
        {% empty %}
          <li>No books borrowed</li>
        {% endfor %}
      </ul>
    </li>
  {% endfor %}
</ul>

<h2>Pupils</h2>
<ul>
  {% for pupil in pupils %}
    <li>
      <strong>{{ pupil.name }} {{ pupil.surname }}</strong> ({{ pupil.group }}, Age: {{ pupil.age }}, ID: {{ pupil.id }})<br>
      Borrowed Books:
      <ul>
        {% for book in pupil.borrowed_books.all %}
          <li>{{ book.title }}</li>
        {% empty %}
          <li>No books borrowed</li>
        {% endfor %}
      </ul>
    </li>
  {% endfor %}
</ul>

<a href="{% url 'home' %}" class="back-link">Back</a>
{% endblock %}
